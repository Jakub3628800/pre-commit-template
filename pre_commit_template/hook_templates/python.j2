# =====================
# Python hooks
# =====================

- repo: https://github.com/astral-sh/ruff-pre-commit
  rev: v0.14.2
  hooks:
  - id: ruff-format
    name: Format Python code with Ruff
    args: [--line-length=120]
  - id: ruff
    name: Run Ruff linter and formatter
    args: [--line-length=120]

- repo: https://github.com/facebook/pyrefly-pre-commit
  rev: 0.0.1
  hooks:
  - id: pyrefly-typecheck-specific-version
    name: Run Pyrefly type checker
    pass_filenames: false
    additional_dependencies: ["pyrefly==0.30.0", "PyYAML", "rich", "jinja2", "pydantic", "pytest", "tomli"]
    {%- if pyrefly_args %}
    args: {{ pyrefly_args | tojson }}
    {%- endif %}

{%- if uv_lock %}
- repo: https://github.com/astral-sh/uv-pre-commit
  rev: 0.9.5
  hooks:
  - id: uv-lock
    name: Check uv.lock is up-to-date
{%- endif %}
